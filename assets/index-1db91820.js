import{l as u,j as t,m as h}from"./index-4920cf17.js";import{a as x}from"./config.service-f74b9060.js";const j="_cart_cpteu_3",m="_minus_cpteu_48",p="_plus_cpteu_48",r={cart:j,"cart-title":"_cart-title_cpteu_11","button-delete":"_button-delete_cpteu_40",minus:m,plus:p,"cart-quantity":"_cart-quantity_cpteu_60","button-agree":"_button-agree_cpteu_64"};function g(){const{cartItems:s,updateCartItemQuantity:c,remove:o}=u(),d=async()=>{try{const e=h("email_user"),a={orderDetail:s.map(l=>({productId:l.id,quantity:l.quantity})),email:e},i=await x.post("Users/order",a);i.status===200?alert("Order placed successfully!"):console.error("Error placing order:",i.data)}catch(e){console.error("Error placing order:",e)}},n=e=>{window.confirm("Are you sure you want to remove this item?")&&o(e)};return t.jsxs("div",{className:r.cart,children:[t.jsx("h1",{style:{textAlign:"center",margin:"50px 0"},children:"Your Cart"}),t.jsxs("table",{style:{width:"100%"},children:[t.jsx("thead",{children:t.jsxs("tr",{className:r["cart-title"],children:[t.jsx("th",{children:"Name"}),t.jsx("th",{children:"Img"}),t.jsx("th",{children:"Price"}),t.jsx("th",{children:"Quantity"}),t.jsx("th",{children:"Total"}),t.jsx("th",{children:"Action"})]})}),t.jsx("tbody",{children:s.map(e=>t.jsxs("tr",{children:[t.jsx("td",{children:e.name}),t.jsx("td",{children:t.jsx("img",{src:e.image})}),t.jsxs("td",{children:[e.price," $"]}),t.jsxs("td",{children:[e.quantity>1?t.jsx("button",{onClick:()=>c(e.id,-1),className:r.minus,children:"-"}):t.jsx("button",{onClick:()=>n(e.id),className:r.minus,children:"-"}),t.jsx("span",{className:r["cart-quantity"],children:e.quantity}),t.jsx("button",{onClick:()=>c(e.id,1),className:r.plus,children:"+"})]}),t.jsxs("td",{children:[(e.price*e.quantity).toLocaleString()," $"]}),t.jsx("td",{children:t.jsx("button",{onClick:()=>n(e.id),className:r["button-delete"],children:"Delete"})})]},e.id))})]}),t.jsx("button",{onClick:d,className:r["button-agree"],disabled:s.length===0,children:"Agree with carts"})]})}export{g as default};
