import{n as h,r as l,l as x,j as t}from"./index-4920cf17.js";import{a as y}from"./product.service-e4bc78b8.js";import{L as j}from"./index-9c050943.js";import{u as p,o as g}from"./user.service-b3b31845.js";import"./config.service-f74b9060.js";const b="_size_1yw7u_1",f="_detail_1yw7u_26",w="_minus_1yw7u_63",N="_plus_1yw7u_63",v="_content_1yw7u_71",i={"size-container":"_size-container_1yw7u_1","button-quantity":"_button-quantity_1yw7u_1","button-size":"_button-size_1yw7u_5",size:b,detail:f,"product-img-div":"_product-img-div_1yw7u_30","product-img":"_product-img_1yw7u_30","realate-product":"_realate-product_1yw7u_42","button-add":"_button-add_1yw7u_46",minus:w,plus:N,content:v};function q(){const n=h(),[s,c]=l.useState(),{addToCart:d,updateQuantityDetail:r,cartQuantityDetail:o,setCartQuantityDetail:u}=x(),m=p({initialValues:{orderDetail:[{productId:"",quantity:0}],email:""},onSubmit:async e=>{try{const a=await g(e);console.log("Order placed successfully:",a)}catch(a){console.error("Error placing order:",a)}}});l.useEffect(()=>{n.productID&&y(n.productID).then(e=>{c(e.content),u(1)}).catch(e=>{console.log(e)})},[n.productID]);const _=()=>{s&&d(s)};return t.jsxs("div",{className:i.detail,children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-around",margin:"3rem 0"},children:[t.jsx("div",{className:i["product-img-div"],children:t.jsx("img",{className:i["product-img"],style:{width:400,height:400},src:s==null?void 0:s.image})}),t.jsxs("div",{className:"content",children:[t.jsx("h3",{children:s==null?void 0:s.name}),t.jsx("p",{style:{margin:"20px 0"},children:s==null?void 0:s.shortDescription}),t.jsx("div",{className:i["size-container"],children:s==null?void 0:s.size.map((e,a)=>t.jsx("button",{className:i["button-size"],children:t.jsx("span",{className:i.size,children:t.jsx("a",{href:"#",children:e})})},a))}),t.jsxs("h3",{style:{color:"red",marginTop:"20px",marginBottom:0},children:[s==null?void 0:s.price,"$"]}),t.jsxs("div",{className:i["button-quantity"],children:[o>1?t.jsx("button",{onClick:()=>(s==null?void 0:s.id)!==void 0&&r(s==null?void 0:s.id,-1),className:i.minus,children:"-"}):t.jsx("button",{className:i.minus,children:"-"}),t.jsx("span",{style:{margin:"0 10px"},children:o}),t.jsx("button",{onClick:()=>(s==null?void 0:s.id)!==void 0&&r(s==null?void 0:s.id,1),className:i.plus,children:"+"})]}),t.jsx("div",{className:i["add-to-card"],children:t.jsx("form",{onSubmit:m.handleSubmit,children:t.jsx("button",{type:"submit",onClick:_,className:i["button-add"],children:"Add to cart"})})})]})]}),t.jsxs("div",{className:i["realate-product"],children:[t.jsx("h2",{style:{textAlign:"center"},children:"- Realate Product -"}),(s==null?void 0:s.relatedProducts)&&t.jsx(j,{list:s.relatedProducts})]})]})}export{q as default};
